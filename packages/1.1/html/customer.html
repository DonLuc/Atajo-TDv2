<card id="customer" fill="true" flip="rl">

    <face id="customerFront" settings="default:true" controller="_customer.customerCtrl">
        <ctl>
           {{customer.Name}}
           <x ng-show="!inSequence" class="customerLocked">
             - OUT OF SEQUENCE
           </x>
        </ctl>
        <ctr>
          <x class="gui-extra customerLocked" ng-show="customer.OrderBlockStatusCode__c || customer.DeliveryBlockStatusCode__c" ng-click="showARContact()"> &#xf023;</x>
          <x onclick="_customer.showCustomerDetail(this);"> CUSTOMER DETAIL </x>
        </ctr>
        <content>

              <div style="width:100%;height:100%; overflow:hidden;" id="custMap">
                  <div ng-show="customer.GPS_Coordinates__c !== ''" style="overflow:hidden;">
                    <img id="customerImage" style="margin:0; margin-bottom:-4px; padding:0; min-width:100%;" src=""  />
                  </div>
                  <placeholder ng-show="customer.GPS_Coordinates__c == ''"><h3>No GPS Location Found</h3></placeholder>
              </div>


                <!-- Cache the html for the tooltip -->

                <!--
                <div style="display:none" id="customer-ar-contact-xml">
                    <table>
                        <tr><th colspan="2">AR Contact Details</th></tr>
                        <tr><td>Name</td><td>{{customer.AR_Contact_Name__c}}</td></tr>
                        <tr><td>Phone</td><td>{{customer.AR_Contact_Telephone__c}}</td></tr>
                    </table>
                </div>
              -->


                <div id="customer-contact-details-simple-view" style="width:420px; min-width:420px;  max-width:420px;  height:100%; font-size: 14pt; position: absolute; top:0px; left: -420px; border-radius: 0px; background: rgba(255,255,255,0.7);">

                <div id="customer-contact-details-scroll" style="height:100%;">
                 <ul>


                   <li>
                  <formElement title="Name" desc="">
                    <input id="calTest" type="text" ng-model="contact.FirstName" filter="alpha" />
                  </formElement>
                   </li>
                   <li>
                  <formElement title="Surname" desc="">
                    <input type="text" ng-model="contact.LastName" filter="alpha" />
                  </formElement>
                </li>

                  <li>

                  <formElement title="Email" desc="">
                    <input type="text" ng-model="contact.Email" valid="email" />
                  </formElement>

                </li>

                  <li>

                  <formElement title="Cell No." desc="">
                    <input type="text" ng-model="contact.MobilePhone" filter="numeric" valid="msisdn" />
                  </formElement>
                </li>

                  <li>

                  <formElement title="Landline No." desc="">
                    <input type="text" ng-model="contact.Phone" filter="numeric" valid="msisdn" />
                  </formElement>
                </li>

                  <li>

                  <formElement title="Fax No." desc="">
                    <input type="text" ng-model="contact.FaxExt__c" filter="numeric" valid="msisdn" />
                  </formElement>
                </li>

                  <li>

                  <formElement title="Birthdate" desc="">
                    <input type="date" ng-model="contact.Birthdate" />
                  </formElement>
                </li>

                  <li>

                  <formElement title="Twitter Handle" desc="">
                    <input type="text" ng-model="contact.Twitter__c"  valid="twitter" />
                  </formElement>

                </li>
              </ul>
            </div>


                    <div id="btnContactToggle" onClick="_customer.toggleContacts();" style="position: absolute; top: 47%; left: 420px;  background: rgba(255,255,255,0.7); width:50px; height: 50px; border-top-right-radius: 25px;border-bottom-right-radius: 25px;">
                        <div class="gui-extra" style="font-size: 25pt; color: black; margin-top:9px; margin-left:8px;">
                          &#xf007;
                        </div>
                    </div>

                </div>

                <style>
                    .customer-button-disabled{ opacity:0.8 !important; color:#222 !important; }

                    #customer-control-buttons td {

                      text-align: center;
                      border-right: 1px solid rgba(255,255,255,0.1);

                    }

                    #customer-control-buttons td:last-child {

                      border: none;

                    }
                </style>

        </content>
        <cbl>
          <div ng-show="menu.startVisit.enabled" ontouchstart="_customer.startVisit();">START VISIT</div>

          <table id="customer-control-buttons" class="" cellpadding="0" cellspacing="0" width="100%" style="font-size:16pt !important;  text-transform: uppercase; color:#333; ">
              <tr>
                  <td ng-show="menu.checklist.enabled" ontouchstart="_customer.loadChecklist();">
                      In-Outlet Checklist
                      <x ng-show="menu.checklist.status == 'COMPULSORY'"      class='bubbleRed'  > {{menu.checklist.qty}} </x>
                      <x ng-show="menu.checklist.status == 'DONE'"            class='gui-extra' style="font-size:13pt; color:green;">&#xf058;</x>
                      <x ng-show="menu.checklist.status == 'OPTIONAL'"        class='bubbleAmber'> {{menu.checklist.qty}} </x>

                  </td>
                  <td ng-show="menu.equipment.enabled" ontouchstart="_customer.loadEquipment();">
                      Equipment
                      <x ng-show="menu.equipment.status == 'COMPULSORY'"      class='bubbleRed'  > {{menu.equipment.qty}} </x>
                      <x ng-show="menu.equipment.status == 'DONE'"            class='gui-extra' style="font-size:13pt; color:green;">&#xf058;</x>
                      <x ng-show="menu.equipment.status == 'OPTIONAL'"        class='bubbleAmber'> {{menu.equipment.qty}} </x>

                  </td>
                  <td ng-show="menu.order.enabled" ontouchstart="_customer.loadInventory();">
                       Place Order
                       <x ng-show="menu.order.status == 'COMPULSORY'"      class='bubbleRed'  > {{menu.order.qty}} </x>
                       <x ng-show="menu.order.status == 'DONE'"            class='gui-extra' style="font-size:13pt; color:green;">&#xf058;</x>
                       <x ng-show="menu.order.status == 'OPTIONAL'"        class='bubbleAmber'> {{menu.order.qty}} </x>

                  </td>
                  <td ng-show="menu.ullages.enabled" ontouchstart="_customer.loadUllages();">Ullages</td>
                  <td ng-show="menu.signage.enabled" ontouchstart="_customer.loadSignageRequest();">Signage Request</td>
                  <td ng-show="menu.endVisit.enabled" ontouchstart="_customer.endVisit();">End Visit<span class="status"></span></td>
              </tr>
          </table>
        </cbl>
        <cbr>
        </cbr>


    </face>


    <face id="customerARContact" face="back" controller="_customer.customerARContactCtrl">

        <ctl>AR CONTACT DETAILS</ctl>
        <ctr class="gui" flip-target="close">x</ctr>
        <content>

            <formElement title="Name" desc="">

                {{customer.AR_Contact_Name__c}}

            </formElement>


            <formElement title="Phone" desc="">

                {{customer.AR_Contact_Telephone__c}}

            </formElement>

        </content>
        <cbl></cbl>
        <cbr></cbr>
    </face>


    <face id="customerHelp" face="back">

        <ctl>HELP</ctl>
        <ctr class="gui" flip-target="close">x</ctr>
        <content>
            <formElement title="Status Indicators">
                <table>
                    <tr>
                        <td>Customer Visits</td>
                        <td>Tasks</td>
                    </tr>
                    <tr>
                        <td><image src="img/icon-blocked-order.png" />  Order Blocked</td>
                        <td><x class='bubbleRed'> 3 </x>  Mandatory</td>
                    </tr>
                    <tr>
                        <td><image src="img/icon-blocked-delivery.png" />  Delivery Blocked</td>
                        <td><x class='bubbleAmber'> 3 </x>  Optional</td>
                    </tr>
                    <tr>
                        <td><image src="img/icon-blocked-deleted.png" /> Customer Deleted</td>
                        <td><x class='gui-extra' style="font-size:13pt; color:green;">&#xf058;</x>  Complete</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><x class='gui-extra' style="font-size:13pt; color:red;">&#61545;</x>  Mandatory Equipment / Task</td>
                    </tr>
                    <tr>
                        <td>Order Items</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><span class="greenLineOrder">&nbsp;</span>  On Promotion</td>
                        <td><image src="img/icon-inventory-new-green.png" />  New Product</td>
                    </tr>
                    <tr>
                        <td><span class="amberLineOrder">&nbsp;</span>  Strategic Package</td>
                        <td><image src="img/icon-inventory-on-hold.png" />  On Hold</td>
                    </tr>
                    <tr>
                        <td><span class="greenLineOrder">&nbsp;</span><span class="amberLineOrder">&nbsp;</span>  Both</td>
                        <td></td>
                    </tr>
                </table>
            </formElement>
        </content>
        <cbl></cbl>
        <cbr></cbr>
    </face>

</card>
